!function(t){"use strict";t.fn.filterSelect=function(e,n){function r(t){return console.error(t),this}function a(t,e){e.prop("hidden",null),t.prop("hidden",!0),e.prop("disabled",null),t.prop("disabled",!0),t.prop("selected",null),e.prop("selected",null)}function i(t,e){function n(t){return parseInt(t.dataset[s.dataString.belongsto])!==a}function r(t){return e.indexOf(parseInt(t.dataset[s.dataString.belongsto]))===-1}var a=parseInt(e),i=Array.isArray(e)?r:n;return[].filter.call(t,i)}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(parseInt(t[n].dataset[s.dataString.reference]));return e}function l(e,n){t(e).on("change",function(){var e=t(n),r=e.find("option"),l=t(this).find("option:not(:hidden)"),d=t(this).find("option:selected"),c=d.length?d.data(s.dataString.reference):o(l),f=t(i(r,c));a(f,e.find("option")),e.trigger("change")})}var d=!1;if(!this.is("select"))return r("filterSelect expects a select element!");if("string"==typeof e&&!t(e).is("select"))return r("filterSelect expect a select as the target element!");void 0!==e&&"object"!=typeof e||(n=e,d=!0);var c={target:"target",reference:"reference",belongsto:"belongsto"},s=t.extend({dataString:c},n);return n&&n.dataString&&(s.dataString=t.extend(c,n.dataString)),this.each(function(n,a){var i=e;return d&&(i="#"+t(a).data(s.dataString.target)),t(i).length?void l(a,i):r("filterSelect could not find a target!")})}}(jQuery);