!function(t){"use strict";t.fn.filterSelect=function(e,n){function r(t){return console.error(t),this}function i(t,e){e.prop("hidden",null),t.prop("hidden",!0),e.prop("disabled",null),t.prop("disabled",!0),t.prop("selected",null),e.prop("selected",null)}function a(t,e){function n(t){return parseInt(t.dataset[s.dataString.belongsto])!==i}function r(t){return e.indexOf(parseInt(t.dataset[s.dataString.belongsto]))===-1}var i=parseInt(e),a=Array.isArray(e)?r:n;return[].filter.call(t,a)}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(parseInt(t[n].dataset[s.dataString.reference]));return e}function d(e,n){t(e).on("change",function(){var e=t(n),r=e.find("option"),d=t(this).find("option:not(:hidden)"),l=t(this).find("option:selected"),c=l.length?l.data(s.dataString.reference):o(d),f=t(a(r,c));i(f,e.find("option")),e.trigger("change")})}var l=!1;if(!this.is("select"))return r("filterSelect expects a select element!");if("string"==typeof e&&!t(e).is("select"))return r("filterSelect expect a select as the target element!");void 0!==e&&"object"!=typeof e||(n=e,l=!0);var c={target:"target",reference:"reference",belongsto:"belongsto"},s=t.extend({dataString:c},n);return n&&n.dataString&&(s.dataString=t.extend(c,n.dataString)),this.each(function(n,i){if(t(i).find("option").data(s.dataString.reference)){var a=e;return l&&(a="#"+t(i).data(s.dataString.target)),t(a).length?void d(i,a):r("filterSelect could not find a target! Selector is: "+a)}})}}(jQuery);